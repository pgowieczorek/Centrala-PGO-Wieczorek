<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <title>Mój Panel Supla</title>
    <style>
        body { font-family: sans-serif; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; background: #eceff1; }
        .card { background: white; padding: 30px; border-radius: 15px; shadow: 0 4px 6px rgba(0,0,0,0.1); text-align: center; border-top: 5px solid #00d151; }
        h2 { color: #555; margin-bottom: 10px; }
        #wynik { font-size: 48px; font-weight: bold; color: #222; margin: 0; }
        .unit { font-size: 24px; color: #888; }
    </style>
</head>
<body>

<div class="card">
    <h2>Temperatura</h2>
    <p id="wynik">Ładowanie...</p>
</div>

<script>
    // WKLEJ SWÓJ LINK PONIŻEJ (pamiętaj o /read na końcu)
    const url = 'TWÓJ_LINK_Z_SUPLI_Z_READ_NA_KONCU';

    async function pobierzDane() {
        try {
            const response = await fetch(url);
            const data = await response.json();
            
            // Logowanie do konsoli (możesz sprawdzić pod F12 co dokładnie przychodzi)
            console.log("Dane z Supli:", data);

            let temp = null;

            // Szukanie temperatury w różnych miejscach (zależnie od typu czujnika)
            if (data.temperature !== undefined) {
                temp = data.temperature;
            } else if (data.state && data.state.temp !== undefined) {
                temp = data.state.temp;
            } else if (data.state && data.state.temperature !== undefined) {
                temp = data.state.temperature;
            } else if (data.channel && data.channel.state.temp !== undefined) {
                temp = data.channel.state.temp;
            }

            if (temp !== null) {
                // Zaokrąglanie do 1 miejsca po przecinku
                document.getElementById('wynik').innerHTML = parseFloat(temp).toFixed(1) + '<span class="unit">°C</span>';
            } else {
                document.getElementById('wynik').innerText = "Brak odczytu";
            }

        } catch (error) {
            console.error("Błąd:", error);
            document.getElementById('wynik').innerText = "Błąd!";
        }
    }

    // Pobierz dane raz, a potem co 10 sekund
    pobierzDane();
    setInterval(pobierzDane, 10000);
</script>

</body>
</html>
